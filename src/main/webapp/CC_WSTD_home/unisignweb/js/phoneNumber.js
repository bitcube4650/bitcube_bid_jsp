var __phoneNumber=function(b){var m=function(h){function k(a){if(!a)return alert("UI load error."),!1;var b=document.createElement("div");document.body.insertBefore(b,document.body.firstChild);b.innerHTML=a;return!0}function d(a){if(a=document.getElementById(a)){var b=function(a){a=a||window.event;var b=a.which?a.which:a.keyCode;if(13==b){var c=document.getElementById("us-confirm-btn");c&&c.click()}if(!(47<b&&58>b||95<b&&106>b||17==b||8==b||46==b||116==b))return"undefined"!=typeof a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault(),a.returnValue=!1,a.target.value=a.target.value.replace(/[^0-9]/g,""),!1};a.onkeydown=b;a.onkeypress=b;a.onkeyup=function(a){a=a.srcElement||a.target;var b=parseInt(a.attributes.maxlength.value,10),c=a.value.length;if(c>=b)for(;(a=a.nextElementSibling)&&null!=a;){if("input"===a.tagName.toLowerCase()){a.focus();break}}else if(0===c&&(b=event.which?event.which:event.keyCode,17==b||8==b||46==b))for(;(a=a.previousElementSibling)&&null!=a;)if("input"===a.tagName.toLowerCase()){a.focus();break}};a.onfocusout=function(a){a.target.value=a.target.value.replace(/[^0-9]/g,"")}}}var c=function(){var a;a=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");a.open("GET",b.ESVS.SRCPath+"unisignweb/rsrc/layout/phoneNumber.html?version="+b.ver,!1);a.send(null);return a.responseText},g=function(){var a;a=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");a.open("GET",b.ESVS.SRCPath+"unisignweb/rsrc/lang/"+b.ESVS.Language+"/phoneNumber_"+b.ESVS.Language+".js?version="+b.ver,!1);a.send(null);return a.responseText},e=b.ESVS.TabIndex;return function(){var a=eval(c),f=eval(eval(g)());k(a());a=document.getElementById("us-lbl-title");a.appendChild(document.createTextNode(f.IDS_TITLE));a.setAttribute("tabindex",e++,0);document.getElementById("us-cls-btn-img").setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/x-btn.png",0);d("us-phoneNumber-pn1");d("us-phoneNumber-pn2");d("us-phoneNumber-pn3");a=document.getElementById("us-div-subject");a.appendChild(document.createTextNode(f.IDS_SUBJECT));a.setAttribute("tabindex",e++,0);a=document.getElementById("us-div-description");a.appendChild(document.createTextNode(f.IDS_SUBJECT_DESCRIPTION));a.setAttribute("tabindex",e++,0);a=document.getElementById("us-phoneNumber-remember");a.appendChild(document.createTextNode(f.IDS_REMEMBER_PNUMBER));a.onclick=function(){document.getElementById("us-phoneNumber-remember-cb").checked=!document.getElementById("us-phoneNumber-remember-cb").checked};a=document.getElementById("us-phoneNumber-remember-cb");a.setAttribute("tabindex",e++,0);a=document.getElementById("us-confirm-btn");a.setAttribute("value",f.IDS_CONFIRM,0);a.setAttribute("title",f.IDS_CONFIRM,0);a.setAttribute("tabindex",e++,0);a.onclick=function(){if(f){for(var a=null,c="",e="",d=1;4>d;d++){var g=document.getElementById("us-phoneNumber-pn"+d);if(3>g.value.length){a=f.IDS_ERROR_MSG_INPUT_NUMBER;g.focus();break}0<c.length&&(c+="-");c+=g.value;e+=g.value}if(null!=a)alert(a);else if(/^\d{3}\d{3,4}\d{4}$/.test(e)){a=document.getElementById("us-phoneNumber-remember-cb").checked;try{d=null,a&&((d=b.uiUtil().getCookie())||(d={}),d.isremem=a,d.phoneNumber=c),b.uiUtil().setCookie(d)}catch(k){}h.onConfirm(e)}else alert(f.IDS_ERROR_MSG_INVALID_NUMBER)}};a=document.getElementById("us-cancel-btn");a.setAttribute("value",f.IDS_CANCEL,0);a.setAttribute("title",f.IDS_CANCEL,0);a.setAttribute("tabindex",e++,0);a.onclick=function(){h.onCancel()};a=document.getElementById("us-cls-btn");a.setAttribute("tabindex",e++,0);a.onclick=function(){h.onCancel()};if((a=b.uiUtil().getCookie())&&a.isremem){document.getElementById("us-phoneNumber-remember-cb").checked=!0;for(var a=a.phoneNumber.split("-"),l=0;l<a.length;l++)document.getElementById("us-phoneNumber-pn"+(l+1)).value=a[l]}return document.getElementById("us-div-phoneNumber")}()};return function(h){var k=b.uiLayerLevel,d=b.uiUtil().getOverlay(k),c=m({type:h.type,args:h.args,onConfirm:h.onConfirm,onCancel:h.onCancel});c.style.zIndex=k+1;b.ESVS.TargetObj.insertBefore(d,b.ESVS.TargetObj.firstChild);var g=window.onresize;return{show:function(){draggable(c,document.getElementById("us-div-title"));d.style.display="block";c.style.width="556px";b.uiUtil().offsetResize(c,"197,"+b.uiUtil().getScrollLeft()+(b.uiUtil().getViewportWidth()-b.uiUtil().getNumSize(b.uiUtil().getStyle(c,"width","width")))/2);window.onresize=function(){c&&(c.style.left=b.uiUtil().getScrollLeft()+(b.uiUtil().getViewportWidth()-b.uiUtil().getNumSize(b.uiUtil().getStyle(c,"width","width")))/2+"px");g&&g()};b.uiLayerLevel+=10;b.ESVS.TabIndex+=30;setTimeout(function(){var b=c.getElementsByTagName("p");if(0<b.length)for(var a=0;a<b.length;a++)"us-lbl-title"==b[a].id&&b[a].focus()},10)},hide:function(){d.style.display="none";c.style.display="none"},dispose:function(){window.onresize=function(){g&&g()};c.parentNode.parentNode.removeChild(c.parentNode);d.parentNode.removeChild(d);b.uiLayerLevel-=10;b.ESVS.TabIndex-=30}}}};